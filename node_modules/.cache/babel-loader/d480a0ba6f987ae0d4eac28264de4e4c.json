{"ast":null,"code":"import _slicedToArray from\"D:/Aprende/todos/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";function useLocalStorage(itemName,initialValue){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),error=_React$useState2[0],setError=_React$useState2[1];var _React$useState3=React.useState(true),_React$useState4=_slicedToArray(_React$useState3,2),loading=_React$useState4[0],setLoading=_React$useState4[1];var _React$useState5=React.useState(initialValue),_React$useState6=_slicedToArray(_React$useState5,2),item=_React$useState6[0],setItem=_React$useState6[1];React.useEffect(function(){setTimeout(function(){try{var localStorageItem=localStorage.getItem(itemName);var parsedItem='';if(localStorageItem){parsedItem=JSON.parse(localStorageItem);}else{localStorage.setItem(itemName,JSON.stringify(initialValue));parsedItem=[];}setItem(parsedItem);setLoading(false);}catch(errorUseEffect){setError(errorUseEffect);}},1000);});var saveItem=function saveItem(newItem){try{var stringifiedItem=JSON.stringify(newItem);localStorage.setItem(itemName,stringifiedItem);setItem(newItem);}catch(errorSaveItem){setError(errorSaveItem);}};return{item:item,saveItem:saveItem,loading:loading,error:error};}export{useLocalStorage};","map":{"version":3,"sources":["D:/Aprende/todos/src/TodoContext/useLocalStorage.js"],"names":["React","useLocalStorage","itemName","initialValue","useState","error","setError","loading","setLoading","item","setItem","useEffect","setTimeout","localStorageItem","localStorage","getItem","parsedItem","JSON","parse","stringify","errorUseEffect","saveItem","newItem","stringifiedItem","errorSaveItem"],"mappings":"sGAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,QAASC,CAAAA,eAAT,CAAyBC,QAAzB,CAAkCC,YAAlC,CAA+C,CAE3C,oBAA2BH,KAAK,CAACI,QAAN,CAAe,KAAf,CAA3B,oDAAOC,KAAP,qBAAcC,QAAd,qBACA,qBAA8BN,KAAK,CAACI,QAAN,CAAe,IAAf,CAA9B,qDAAOG,OAAP,qBAAgBC,UAAhB,qBACA,qBAAuBR,KAAK,CAACI,QAAN,CAAeD,YAAf,CAAvB,qDAAOM,IAAP,qBAAYC,OAAZ,qBAEAV,KAAK,CAACW,SAAN,CAAgB,UAAI,CAClBC,UAAU,CAAC,UAAM,CACf,GAAG,CACH,GAAMC,CAAAA,gBAAgB,CAAGC,YAAY,CAACC,OAAb,CAAqBb,QAArB,CAAzB,CACA,GAAIc,CAAAA,UAAU,CAAG,EAAjB,CAEA,GAAGH,gBAAH,CAAoB,CAClBG,UAAU,CAAGC,IAAI,CAACC,KAAL,CAAWL,gBAAX,CAAb,CACD,CAFD,IAEK,CACHC,YAAY,CAACJ,OAAb,CAAqBR,QAArB,CAA+Be,IAAI,CAACE,SAAL,CAAehB,YAAf,CAA/B,EACAa,UAAU,CAAG,EAAb,CACD,CAEDN,OAAO,CAACM,UAAD,CAAP,CACAR,UAAU,CAAC,KAAD,CAAV,CACD,OAAMY,cAAN,CAAqB,CACpBd,QAAQ,CAACc,cAAD,CAAR,CACD,CACA,CAjBS,CAiBR,IAjBQ,CAAV,CAkBD,CAnBD,EAsBA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,OAAD,CAAa,CAC5B,GAAG,CACD,GAAMC,CAAAA,eAAe,CAAGN,IAAI,CAACE,SAAL,CAAeG,OAAf,CAAxB,CACAR,YAAY,CAACJ,OAAb,CAAqBR,QAArB,CAA8BqB,eAA9B,EACAb,OAAO,CAACY,OAAD,CAAP,CACD,OAAME,aAAN,CAAoB,CACnBlB,QAAQ,CAACkB,aAAD,CAAR,CACD,CAEF,CATD,CAUA,MAAO,CACLf,IAAI,CAAJA,IADK,CAELY,QAAQ,CAARA,QAFK,CAGLd,OAAO,CAAPA,OAHK,CAILF,KAAK,CAALA,KAJK,CAAP,CAMD,CAGD,OAASJ,eAAT","sourcesContent":["import React from \"react\";\r\n\r\nfunction useLocalStorage(itemName,initialValue){\r\n  \r\n    const [error, setError ] = React.useState(false);\r\n    const [loading, setLoading] = React.useState(true);\r\n    const [item,setItem] = React.useState(initialValue);\r\n  \r\n    React.useEffect(()=>{\r\n      setTimeout(() => {\r\n        try{\r\n        const localStorageItem = localStorage.getItem(itemName);\r\n        let parsedItem = '';\r\n        \r\n        if(localStorageItem){\r\n          parsedItem = JSON.parse(localStorageItem);\r\n        }else{\r\n          localStorage.setItem(itemName, JSON.stringify(initialValue));\r\n          parsedItem = [];\r\n        }\r\n  \r\n        setItem(parsedItem);\r\n        setLoading(false);\r\n      }catch(errorUseEffect){\r\n        setError(errorUseEffect);\r\n      }\r\n      },1000);\r\n    });\r\n    \r\n  \r\n    const saveItem = (newItem) => {\r\n      try{\r\n        const stringifiedItem = JSON.stringify(newItem);\r\n        localStorage.setItem(itemName,stringifiedItem);\r\n        setItem(newItem);\r\n      }catch(errorSaveItem){\r\n        setError(errorSaveItem);\r\n      }\r\n      \r\n    }\r\n    return {\r\n      item,\r\n      saveItem,\r\n      loading,\r\n      error\r\n    }\r\n  }\r\n\r\n\r\n  export { useLocalStorage };\r\n  "]},"metadata":{},"sourceType":"module"}