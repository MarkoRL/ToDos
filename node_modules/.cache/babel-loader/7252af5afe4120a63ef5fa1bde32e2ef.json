{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from \"react\";\n\nfunction useLocalStorage(itemName, initialValue) {\n  _s();\n\n  const [error, setError] = React.useState(false);\n  const [loading, setLoading] = React.useState(true);\n  const [item, setItem] = React.useState(initialValue);\n  React.useEffect(() => {\n    setTimeout(() => {\n      try {\n        const localStorageItem = localStorage.getItem(itemName);\n        let parsedItem = '';\n\n        if (localStorageItem) {\n          parsedItem = JSON.parse(localStorageItem);\n        } else {\n          localStorage.setItem(itemName, JSON.stringify(initialValue));\n          parsedItem = [];\n        }\n\n        setItem(parsedItem);\n        setLoading(false);\n      } catch (errorUseEffect) {\n        setError(errorUseEffect);\n      }\n    }, 1000);\n  });\n\n  const saveItem = newItem => {\n    try {\n      const stringifiedItem = JSON.stringify(newItem);\n      localStorage.setItem(itemName, stringifiedItem);\n      setItem(newItem);\n    } catch (errorSaveItem) {\n      setError(errorSaveItem);\n    }\n  };\n\n  return {\n    item,\n    saveItem,\n    loading,\n    error\n  };\n}\n\n_s(useLocalStorage, \"T0uraaZzGbfLYiVq/qjmbUbuxhc=\");\n\nexport { useLocalStorage };","map":{"version":3,"sources":["D:/Aprende/Todos/todos/Todos/src/TodoContext/useLocalStorage.js"],"names":["React","useLocalStorage","itemName","initialValue","error","setError","useState","loading","setLoading","item","setItem","useEffect","setTimeout","localStorageItem","localStorage","getItem","parsedItem","JSON","parse","stringify","errorUseEffect","saveItem","newItem","stringifiedItem","errorSaveItem"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,SAASC,eAAT,CAAyBC,QAAzB,EAAkCC,YAAlC,EAA+C;AAAA;;AAE3C,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAqBL,KAAK,CAACM,QAAN,CAAe,KAAf,CAA3B;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,KAAK,CAACM,QAAN,CAAe,IAAf,CAA9B;AACA,QAAM,CAACG,IAAD,EAAMC,OAAN,IAAiBV,KAAK,CAACM,QAAN,CAAeH,YAAf,CAAvB;AAEAH,EAAAA,KAAK,CAACW,SAAN,CAAgB,MAAI;AAClBC,IAAAA,UAAU,CAAC,MAAM;AACf,UAAG;AACH,cAAMC,gBAAgB,GAAGC,YAAY,CAACC,OAAb,CAAqBb,QAArB,CAAzB;AACA,YAAIc,UAAU,GAAG,EAAjB;;AAEA,YAAGH,gBAAH,EAAoB;AAClBG,UAAAA,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWL,gBAAX,CAAb;AACD,SAFD,MAEK;AACHC,UAAAA,YAAY,CAACJ,OAAb,CAAqBR,QAArB,EAA+Be,IAAI,CAACE,SAAL,CAAehB,YAAf,CAA/B;AACAa,UAAAA,UAAU,GAAG,EAAb;AACD;;AAEDN,QAAAA,OAAO,CAACM,UAAD,CAAP;AACAR,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD,OAbC,CAaD,OAAMY,cAAN,EAAqB;AACpBf,QAAAA,QAAQ,CAACe,cAAD,CAAR;AACD;AACA,KAjBS,EAiBR,IAjBQ,CAAV;AAkBD,GAnBD;;AAsBA,QAAMC,QAAQ,GAAIC,OAAD,IAAa;AAC5B,QAAG;AACD,YAAMC,eAAe,GAAGN,IAAI,CAACE,SAAL,CAAeG,OAAf,CAAxB;AACAR,MAAAA,YAAY,CAACJ,OAAb,CAAqBR,QAArB,EAA8BqB,eAA9B;AACAb,MAAAA,OAAO,CAACY,OAAD,CAAP;AACD,KAJD,CAIC,OAAME,aAAN,EAAoB;AACnBnB,MAAAA,QAAQ,CAACmB,aAAD,CAAR;AACD;AAEF,GATD;;AAUA,SAAO;AACLf,IAAAA,IADK;AAELY,IAAAA,QAFK;AAGLd,IAAAA,OAHK;AAILH,IAAAA;AAJK,GAAP;AAMD;;GA5CMH,e;;AA+CP,SAASA,eAAT","sourcesContent":["import React from \"react\";\r\n\r\nfunction useLocalStorage(itemName,initialValue){\r\n  \r\n    const [error, setError ] = React.useState(false);\r\n    const [loading, setLoading] = React.useState(true);\r\n    const [item,setItem] = React.useState(initialValue);\r\n  \r\n    React.useEffect(()=>{\r\n      setTimeout(() => {\r\n        try{\r\n        const localStorageItem = localStorage.getItem(itemName);\r\n        let parsedItem = '';\r\n        \r\n        if(localStorageItem){\r\n          parsedItem = JSON.parse(localStorageItem);\r\n        }else{\r\n          localStorage.setItem(itemName, JSON.stringify(initialValue));\r\n          parsedItem = [];\r\n        }\r\n  \r\n        setItem(parsedItem);\r\n        setLoading(false);\r\n      }catch(errorUseEffect){\r\n        setError(errorUseEffect);\r\n      }\r\n      },1000);\r\n    });\r\n    \r\n  \r\n    const saveItem = (newItem) => {\r\n      try{\r\n        const stringifiedItem = JSON.stringify(newItem);\r\n        localStorage.setItem(itemName,stringifiedItem);\r\n        setItem(newItem);\r\n      }catch(errorSaveItem){\r\n        setError(errorSaveItem);\r\n      }\r\n      \r\n    }\r\n    return {\r\n      item,\r\n      saveItem,\r\n      loading,\r\n      error\r\n    }\r\n  }\r\n\r\n\r\n  export { useLocalStorage };\r\n  "]},"metadata":{},"sourceType":"module"}